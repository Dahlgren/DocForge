<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>[$pagetitle]</title>
    <link href="http://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css" />
    <link media="all" type="text/css" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.4/sandstone/bootstrap.min.css" rel="stylesheet">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="public/rhsdocstyle.css">
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <!--<link href="http://www.rhsmods.org/css/rhsstyle.css" rel="stylesheet"/>-->
</head>
<body>
    <div class="container wrapper">
        <div class="row">
            <div class="col-md-12">
                <div class="center-block" style="text-align: center;">
                    <h1>[$modelname]</h1>
                    <h3>[$modelversion]</h3>
                    <p>[$modeldescription]</p>
                    <script>

                        var width = 960,
                            height = 2000;

                        var tree = d3.layout.tree()
                            .size([height, width - 160]);

                        var diagonal = d3.svg.diagonal()
                            .projection(function (d) { return [d.y, d.x]; });

                        var svg = d3.select("body").append("svg")
                            .attr("width", width)
                            .attr("height", height)
                          .append("g")
                            .attr("transform", "translate(40,0)");

                        var json = [$digramjson];

                        var nodes = tree.nodes(json),
                            links = tree.links(nodes);

                        var link = svg.selectAll("path.link")
                            .data(links)
                            .enter().append("path")
                            .attr("class", "link")
                            .attr("d", diagonal);

                        var node = svg.selectAll("g.node")
                            .data(nodes)
                            .enter().append("g")
                            .attr("class", "node")
                            .attr("transform", function (d) { return "translate(" + d.y + "," + d.x + ")"; })

                        node.append("circle")
                            .attr("r", 4.5);

                        node.append("text")
                            .attr("dx", function (d) { return d.children ? -8 : 8; })
                            .attr("dy", 3)
                            .attr("text-anchor", function (d) { return d.children ? "end" : "start"; })
                            .text(function (d) { return d.name; });
                        

                        d3.select(self.frameElement).style("height", height + "px");

                    </script>
                </div>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-default navbar-fixed-bottom">
        <div class="container">
            <div class="navbar-left">
                <p class="navbar-text">Copyright ⓒ 2015 Red Hammer Studios. <a href="https://github.com/ajvorobiev/DocForge">DocForge</a> by Alex Vorobiev.</p>
            </div>
        </div>
    </nav>
</body>
</html>